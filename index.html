<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HTML5 Assignment</title>
	<!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<script src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.touchSwipe.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/swipe.js"></script>
    <style>
    	#mainimage
    	{
   			background-image: url('baby1.jpg');
			background-size: 100% 100%;
			background-repeat: no-repeat;
			width: 100%;
			margin:0 auto;
			
		}
		
   		.topmenu
   		{
   			width:15%; 
   			text-align:center;
   			color:black;
   			cursor:pointer;
   			height:50px;
   			
   		}
   		.topmenu:hover
   		{
	   		width:15%; 
	   		text-align:center;
	   		color:#428bca;
	   		background-color:#EEEEEE;
	   		cursor:pointer;
	   		height:50px;
	   	}
   		#topmenudiv table td 
   		{
   			border:1.5px solid black;
   		}
   		#bottommenu td
   		{
   			border-right:1.5px solid black;
   		}
   		.topmenumiddle
   		{
	   		width:70%; 
	   		text-align:center;
	   		
	   		color:black;
	   		cursor:pointer;
	   		height:50px;
	   	}
   		.topmenumiddle:hover{
	   		width:70%; 
	   		text-align:center;
	   		color:#428bca;
	   		cursor:pointer;
	   		background-color:#eee;
	   	}
   	
   		.bottomnav{
	   		width:33%; 
	   		text-align:center;
	   		color:black;
	   		cursor:pointer;
   		}
   	
   		.bottomnav:hover{
   			background-color:#eee;
   			color: #428bca;
   		}
   		
   		#bottommenu{
   			background-color: #00B38B;
   			opacity: 0.6;
			height:50px;
   		}
   		.content
 	 {
  
   padding: 3%;
   background-color: white;
   width: 80%;
   margin: 0 auto;
   border-radius: 24px;
  }
   	</style>
	<script id='code_1'>
		var pre_dis = 0; 
		var pre_dis_down = 0;
		var height = 0;
		var stop_swaping_flag = 0;
		var contentdivheight = 0;
		
			$(document).ready(function(){
  				height = window.innerHeight;
				$('#mainimage').height(height-100+'px');
			  	$('#test').height(height+'px');
			  	$('#bottommenu').css('margin-top','-50px');
			  	contentdivheight = $("#contentdiv").height();
			});
		
			$(function() {			
				//Enable swiping...
					$("#test").swipe( {
						//Generic swipe handler for all directions
						swipe:function(event, direction, distance, duration, fingerCount, fingerData)
						{
							//alert(pre_dis);
							if(direction == 'up')
							{
								var dis = 0;
								dis=distance/2;
								pre_dis = parseInt(pre_dis);
								if(pre_dis != null)
								{
									dis = dis + pre_dis;	
								}
								if(stop_swaping_flag == 0){
									pre_dis = dis+dis;	
								}
								
								if((pre_dis+100) >= height)
								{
									//$("#mainimage").stop().animate({ backgroundPosition : '0px ' + '-'+(height-150)+'px' }, 100);
									//$("#bottommenu").stop().animate({ marginTop: '-'+(height-150)+'px' },{easing:'linear'}, 100);
									$("#bottommenu").css('margin-top','-'+(height-150)+'px');
									
									$("#mainimage").css('background-position',"0px -"+(height-150)+'px');
									//$("#contentdiv").stop().animate({ marginTop: '-100px' },{easing:'linear'}, 100);
									$("#contentdiv").css('margin-top','-100px');
									$("#contentdiv").css('position','relative');
									$("#contentdiv").css('z-index','-1');
									$("#bottommenu").css('opacity','1');
									$("#topmenudiv").css('opacity','0.7');
									$("#topmenudiv").css('background-color','#00B38B');
									$('#topmenudiv table td').css('border','none'); 
									$('#bottommenu td').css('border','none');
									stop_swaping_flag=1;
									if(pre_dis > height){
										pre_dis = height;
									}
									
									
								}
								else
								{
									
									//$("#mainimage").stop().animate({ backgroundPosition : '0px ' + '-'+dis+'px' }, 100);
									$("#mainimage").css('background-position',"0px -"+dis+'px');
								//	$("#bottommenu").stop().animate({ marginTop: '-'+(dis+dis)+'px' },{easing:'linear'}, 100);
									$("#bottommenu").css('margin-top','-'+(dis+dis)+'px');    //to move bottom bar up 
									$("#contentdiv").css('height',($("#contentdiv").height()+dis)+'px');   
									var temp = $(".bottommenudiv").position().top;
									temp = -1 * temp;
									var temp1 = 0.7 + height/temp/10;
									if(temp1 > 1){
										
										temp1 = 0.8;
									}
									temp = 0.7 - height/temp/10;
									if(temp < 0.1 || temp > 0.7){
										temp = 0.2;
									}
									
									$("#topmenudiv").css('opacity',temp);
									$("#topmenudiv").css('background-color','#85898E');
									//alert(temp1);
									$('#bottommenu').css('opacity',temp1);
									
								} 
							}
							else if(direction == 'down')
							{
								
								stop_swaping_flag = 0;
								var dis = 0;
								dis=distance/2;
								pre_dis = parseInt(pre_dis);
							
								if(pre_dis != null && pre_dis!=0)
								{
									$('#topmenudiv').css("opacity",'1');
									$("#topmenudiv").css('background-color','transparent');
									$('#bottommenu').css('opacity','0.6');
									//$("#contentdiv").stop().animate({ marginTop: '0px' },{easing:'linear'}, 100);
									$("#contentdiv").css('margin-top','0px');
									//alert("pre_dis "+pre_dis+" dis "+dis);
									//alert(dis);
									if(pre_dis > dis)
									{
										dis = pre_dis - dis;
										pre_dis = dis;
										//$("#bottommenu").stop().animate({ marginTop: '-'+dis+'px' },{easing:'linear'}, 100);
										$("#bottommenu").css('margin-top','-'+(dis)+'px');
										
										//$("#mainimage").stop().animate({ backgroundPosition : '0px ' + '-'+dis+'px' }, 100);
										$("#mainimage").css('background-position',"0px -"+dis+'px');
										$('#topmenudiv table td').css('border','1.5px solid black'); 
										$('#bottommenu td').css('border','1.5px solid black');
										//$("#contentdiv").css('height',($("#contentdiv").height()-dis)+'px');
										var temp = $(".bottommenudiv").position().top;
										temp = -1 * temp;
										var temp1 = 1 - height/temp/10;
										temp = 0.7 - height/temp/10;
										if(temp < 0.1 || temp > 0.7){
											temp = 0.1;
										}
										if(temp1 < 0.7 ){
											temp1 = 0.7;
										}
									
										$("#topmenudiv").css('opacity',temp);
										$("#topmenudiv").css('background-color','#85898E');
										$('#bottommenu').css('opacity',temp1);
									}
									else
									{
										//$("#mainimage").stop().animate({ backgroundPosition :'0px 0px' }, 100);
									
										$("#bottommenu").css('margin-top','-50px');
										//$("#bottommenu").stop().animate({ marginTop: '-50px' },{easing:'linear'}, 100);
										$("#mainimage").css('background-position',"0px 0px");
										//$("#contentdiv").stop().animate({ marginTop: '0px' },{easing:'linear'}, 100);
										$("#contentdiv").css('margin-top','0px');
									
										$("#contentdiv").css('height',contentdivheight);
										
										pre_dis = 0;
										dis = 0 ;
										location.reload();
									}
								}
							}
						 },
						 
					   	 threshold:0
					});
			});
		</script>
  	</head>
  	<body id="test">
		<div class="container">  
  			<div  id="mainimage">
  				<div id="topmenudiv">
  					<table style="width:100%;border:1px solid black;">
      					<tr>
			      			<td class="topmenu" ><span class="glyphicon glyphicon-signal"></span> Star</td>
			      			<td class="topmenumiddle"><span class="glyphicon glyphicon-th-list"></span> Start</td>
			      			<td class="topmenu"><span class="glyphicon glyphicon-search"></span> Search</td>
      					</tr>
			      	</table>  
  				</div>
			  	
		 	</div>
		 	<div class="bottommenudiv" > 
			 		<table style="width:100%;" id="bottommenu">
			      		<tr>
			      			<td class="bottomnav" ><span class="glyphicon glyphicon-envelope"></span> Message</td>
    			  			<td class="bottomnav"><span class="glyphicon glyphicon-home"></span> Home</td>
      						<td class="bottomnav"><span class="glyphicon glyphicon-camera"></span> Camera</td>
      					</tr>
      				</table> 
      				<div id="contentdiv" style="background-color:#00B38B;">
      				<br>
						<div class='content'>
							<h2>Nathan</h2>
							<p>Vong</p>
							<p>Bluebird It</p>
							<p>CEO</p>
							</div>
							<br/>
							<div class='content'>
							<h2>Nathan</h2>
							<p>Vong</p>
							<p>Bluebird It</p>
							<p>CEO</p>
							</div>
							<br/>
						</div>
      				
 				</div>
 		</div>        
	</body>
</html>
